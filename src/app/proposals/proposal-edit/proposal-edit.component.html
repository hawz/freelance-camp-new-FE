<div class="card p-3">
  <div class="row">
    <div class="col-md-6">
      <h1 *ngIf="!editMode">Create a proposal</h1>
      <h1 *ngIf="editMode">Edit your proposal</h1>

      <div>
        <form (ngSubmit)="onSubmit()" #proposalForm="ngForm">
          <div class="form-group">
            <label for="customer">Customer Name</label>
            <input
              type="text"
              id="customer"
              placeholder="ABC Company"
              required
              name="customer"
              #customer="ngModel"
              [(ngModel)]="proposal.customer"
              class="form-control"
            />
            <p>
              <small
                class="form-text text-muted"
                *ngIf="!customer.valid && customer.touched"
                >Please enter a customer name!</small
              >
            </p>
          </div>
          <div class="form-group">
            <label for="portfolio_url">Protfolio URL</label>
            <input
              type="text"
              id="portfolio_url"
              required
              name="portfolio_url"
              #portfolio_url="ngModel"
              [(ngModel)]="proposal.portfolio_url"
              class="form-control"
            />
            <p>
              <small
                class="form-text text-muted"
                *ngIf="!portfolio_url.valid && portfolio_url.touched"
                >Please enter a Portfolio URL!</small
              >
            </p>
          </div>
          <div class="form-group">
            <label for="tools">Tools that you'll use on the project</label>
            <input
              type="text"
              id="tools"
              placeholder="Rails, Angular, etc."
              required
              name="tools"
              #tools="ngModel"
              [(ngModel)]="proposal.tools"
              class="form-control"
            />
            <p>
              <small
                class="form-text text-muted"
                *ngIf="!tools.valid && tools.touched"
                >A list of tools is required</small
              >
            </p>
          </div>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="estimated_hours">Estimated Hours</label>
              <input
                type="number"
                id="estimated_hours"
                required
                name="estimated_hours"
                #estimated_hours="ngModel"
                [(ngModel)]="proposal.estimated_hours"
                class="form-control"
              />
              <p>
                <small
                  class="form-text text-muted"
                  *ngIf="!estimated_hours.valid && estimated_hours.touched"
                  >You need to enter your estimated hours for the project</small
                >
              </p>
            </div>
            <div class="form-group col-md-6">
              <label for="hourly_rate">Hourly rate</label>
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text">€</span>
                </div>
                <input
                  type="number"
                  id="hourly_rate"
                  required
                  name="hourly_rate"
                  #hourly_rate="ngModel"
                  [(ngModel)]="proposal.hourly_rate"
                  class="form-control"
                />
              </div>

              <p>
                <small
                  class="form-text text-muted"
                  *ngIf="!hourly_rate.valid && hourly_rate.touched"
                  >You need to enter your hourly rate for the project</small
                >
              </p>
            </div>
          </div>

          <div class="form-group">
            <label for="weeks_to_complete">Weeks to complete</label>
            <input
              type="number"
              id="weeks_to_complete"
              required
              name="weeks_to_complete"
              #weeks_to_complete="ngModel"
              [(ngModel)]="proposal.weeks_to_complete"
              class="form-control"
            />
            <p>
              <small
                class="form-text text-muted"
                *ngIf="!weeks_to_complete.valid && weeks_to_complete.touched"
                >You need to enter the estimated weeks to complete for the
                project</small
              >
            </p>
          </div>
          <div class="form-group">
            <label for="client_email">Client Email <em>(Optional)</em></label>
            <input
              type="email"
              id="client_email"
              placeholder="client@example.com"
              name="client_email"
              email
              #client_email="ngModel"
              [(ngModel)]="proposal.client_email"
              class="form-control"
            />
            <p>
              <small
                class="form-text text-muted"
                *ngIf="!client_email.valid && client_email.touched"
                >Please enter a valid email</small
              >
            </p>
          </div>
        </form>
      </div>
    </div>
    <div class="col-md-6">
      <p>Hi {{ proposal.customer }},</p>

      <p>
        It was a pleasure getting to meet with you and review your project
        requirements, I believe it is a great fit for the types of applications
        that I build out. Please feel free to check out some of my past projects
        <a href="{{ proposal.portfolio_url }}" target="_blank">here</a>.
      </p>

      <p>
        To successfully build out the application I will be utilizing
        {{ proposal.tools }}, and a number of other tools to ensure that the
        project follows industry wide best practices.
      </p>

      <p>
        Ensuring that you are fully informed is one of my top priorities, so in
        addition to incorporating everything that we discussed, I will also be
        creating a project management dashboard and sending you a project update
        message daily so that you can have a transparent view of the development
        as it takes place.
      </p>

      <p>
        To accomplish the project and meet the requirements that we discussed, I
        am estimating that it will take {{ proposal.estimated_hours }} hours in
        development time to complete. The project should take
        {{ proposal.weeks_to_complete }} weeks to complete and with my hourly
        rate of {{ proposal.hourly_rate }}/hour, the estimated total will be
        {{ proposal.hourly_rate * proposal.estimated_hours | currency : '€' : true : '.0' }}.
      </p>

      <p>
        The next step from here is to set up a meeting to finalize the project
        and sign contracts.
      </p>

      <p>I am excited to working with you and build out this project.</p>
    </div>
  </div>
</div>
